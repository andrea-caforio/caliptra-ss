provides: [mcu_top]
schema_version: 2.4.0
requires:
  - axi_sub
  - caliptra_prim_pkg
  - mcu_el2_veer_wrapper
targets:
  tb:
    directories:
      - $COMPILE_ROOT/../../third_party/i3c-core/src
    files:
      - $COMPILE_ROOT/../../third_party/i3c-core/src/i3c_defines.svh
  rtl:
    directories:
      - $COMPILE_ROOT/rtl
      - $COMPILE_ROOT/../../third_party/i3c-core/src
      - $COMPILE_ROOT/../../third_party/i3c-core/src/libs/axi
    files:
      - $COMPILE_ROOT/../../third_party/i3c-core/src/libs/mem/prim_ram_1p_pkg.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/libs/mem/prim_generic_ram_1p.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/libs/mem/prim_ram_1p_adv.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/libs/mem/prim_ram_1p.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/csr/I3CCSR_pkg.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/ctrl/controller_pkg.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/i3c_pkg.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/phy/buf_od.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/phy/buf_pp.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/phy/bufs.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/phy/i3c_phy.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/phy/i3c_io.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/csr/I3CCSR.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/hci/queues/read_queue.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/hci/queues/write_queue.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/hci/ahb_if.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/hci/axi_adapter.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/hci/configuration.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/hci/dxt.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/hci/tti.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/hci/queues.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/hci/hci.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/ctrl/width_converter_8toN.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/ctrl/width_converter_Nto8.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/recovery/recovery_pec.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/recovery/recovery_receiver.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/recovery/recovery_transmitter.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/recovery/recovery_executor.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/recovery/recovery_handler.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/ctrl/bus_timers.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/ctrl/bus_monitor.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/ctrl/ccc.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/ctrl/daa.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/ctrl/edge_detector.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/ctrl/i2c_controller_fsm.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/ctrl/i2c_target_fsm.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/ctrl/i3c_controller_fsm.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/ctrl/i3c_target_fsm.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/ctrl/flow_active.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/ctrl/flow_standby_i2c.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/ctrl/flow_standby_i3c.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/ctrl/controller_standby_i2c.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/ctrl/controller_standby_i3c.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/ctrl/controller_active.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/ctrl/controller_standby.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/ctrl/controller.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/ctrl/stable_high_detector.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/i3c.sv
      - $COMPILE_ROOT/../../third_party/i3c-core/src/i3c_wrapper.sv
      - $COMPILE_ROOT/rtl/mcu_top.sv
    tops: [mcu_top]
  # rtl_lint:
  #   waiver_files:
  #     - $COMPILE_ROOT/config/design_lint/sglint_waivers
  #   black_box:
  #     - mcu_el2_veer_wrapper
  # cdc:
  #   tcl_files:
  #     - $COMPILE_ROOT/config/cdc/integration_top.constraints.tcl
  #     - $COMPILE_ROOT/config/cdc/integration_top.waivers.tcl
#-- Remove this
# global:
#   tool:
#     vcs:
#       default:
#         - '-assert svaext'
#         - '+vpi -sverilog -full64 -lpthread'
#         - +define+MCU_RV_BUILD_AXI4
#         - +define+MCU_RV_OPENSOURCE
#         - +define+AVERY_VCS
#         - +define+AVERY_CLOCK=5
#         - +define+AVERY_AXI_INTERCONNECT
#         - +define+AAXI_MAX_DATA_WIDTH=32
#         - '-noinherit_timescale=1ns/1ps'
#         - '/cad/tools/mentor/avery/2.5c/avery_pli-2023_0609/lib.linux/libtb_vcs64.a'
#         - '-P /cad/tools/mentor/avery/2.5c/avery_pli-2023_0609/tb_vcs64.tab'
#       elab:
#         - '/cad/tools/mentor/avery/2.5c/avery_pli-2023_0609/lib.linux/libtb_vcs64.a'
#         - '-P /cad/tools/mentor/avery/2.5c/avery_pli-2023_0609/tb_vcs64.tab'
# ---
# provides: [mcu_top_tb]
# schema_version: 2.4.0
# requires:
#   # - asserts
#   # - libs
#   - mcu_top
# targets:
#   # dpi_compile:
#   #   directories:
#   #     # - $COMPILE_ROOT/test_suites/libs/tcp_server
#   #     # - $COMPILE_ROOT/test_suites/libs/jtagdpi
#   #   files:
#   #     - $COMPILE_ROOT/test_suites/libs/tcp_server/tcp_server.h
#   #     - $COMPILE_ROOT/test_suites/libs/tcp_server/tcp_server.c
#   #     - $COMPILE_ROOT/test_suites/libs/jtagdpi/jtagdpi.h
#   #     - $COMPILE_ROOT/test_suites/libs/jtagdpi/jtagdpi.c
#   #   options:
#   #     - '-Wno-unused-variable'
#   #     - '-Wno-unused-function'
#   #     - tool:
#   #         vcs:
#   #           - '-DVCS'
#   #         ius:
#   #           - '-DXCELIUM'
#   tb:
#     directories:
#       - $COMPILE_ROOT/vip
#       - /cad/tools/mentor/avery/2023.2/axixactor-2.1e.230314//src.axi.VCS
#       - /cad/tools/mentor/avery/2023.2/axixactor-2.1e.230314//src.axi
#       - /cad/tools/mentor/avery/2023.2/axixactor-2.1e.230314//checker/BP063-BU-01000-r0p1-00rel0/sva
#       - /cad/tools/mentor/avery/2023.2/axixactor-2.1e.230314//testbench
#     files:
#       # - $COMPILE_ROOT/../../../../chipsalliance/caliptra-rtl/src/axi/rtl/caliptra_axi_sram.sv
#       - /cad/tools/mentor/avery/2023.2/axixactor-2.1e.230314//src/avery_pkg.sv
#       - /cad/tools/mentor/avery/2023.2/axixactor-2.1e.230314//src/avery_pkg_test.sv
#       - /cad/tools/mentor/avery/2023.2/axixactor-2.1e.230314//src.axi/aaxi_pkg.sv
#       - /cad/tools/mentor/avery/2023.2/axixactor-2.1e.230314//src.axi/aaxi_pkg_xactor.sv
#       - /cad/tools/mentor/avery/2023.2/axixactor-2.1e.230314//src.axi/aaxi_class_pll.sv
#       - /cad/tools/mentor/avery/2023.2/axixactor-2.1e.230314//src.axi/aaxi_pkg_test.sv
#       - /cad/tools/mentor/avery/2023.2/axixactor-2.1e.230314//src.axi/aaxi_intf.sv
#       - $COMPILE_ROOT/../../../../caliptra-ss-int/src/caliptra-ss-int/testbench/aaxi4_interconnect.sv
#       - $COMPILE_ROOT/../../../../caliptra-ss-int/src/caliptra-ss-int/testbench/caliptra_ss_top.sv
#       # - /cad/tools/mentor/avery/2023.2/axixactor-2.1e.230314//testsuite/Interconnect.axi4/axi4_interconn_rw.sv
#       # - $COMPILE_ROOT/../../../../caliptra-ss-int/src/caliptra-ss-int/tb/ref_axi4_interconn_rw.sv
#       # - $COMPILE_ROOT/tb/caliptra_mcu_top_tb_pkg.sv
#       # - $COMPILE_ROOT/tb/caliptra_veer_sram_export.sv
#       # - $COMPILE_ROOT/tb/caliptra_mcu_top_tb_services.sv
#       # - $COMPILE_ROOT/coverage/caliptra_mcu_top_cov_if.sv
#       # - $COMPILE_ROOT/coverage/caliptra_mcu_top_cov_props.sv
#       # - $COMPILE_ROOT/coverage/caliptra_mcu_top_cov_bind.sv
#       # - $COMPILE_ROOT/test_suites/libs/jtagdpi/jtagdpi.sv
#       # - $COMPILE_ROOT/tb/caliptra_mcu_top_tb.sv
#     tops: [caliptra_ss_top]
#   sim:
#     pre_exec: '$MSFT_SCRIPTS_DIR/run_test_makefile'
# global:
#   tool:
#     vcs:
#       default:
#         - '-assert svaext'
#         - '+vpi -sverilog -full64 -lpthread'
#         - +define+MCU_RV_BUILD_AXI4
#         - +define+MCU_RV_OPENSOURCE
#         - +define+AVERY_VCS
#         - +define+AVERY_CLOCK=5
#         - +define+FOUR_OUTSTANDING
#         - +define+AVERY_AXI_INTERCONNECT
#         - +define+AAXI_MAX_DATA_WIDTH=64
#         - +define+AAXI_MAX_ID_WIDTH=4 
#         - '-noinherit_timescale=1ns/1ps'
#         - '/cad/tools/mentor/avery/2.5c/avery_pli-2023_0609/lib.linux/libtb_vcs64.a'
#         - '-P /cad/tools/mentor/avery/2.5c/avery_pli-2023_0609/tb_vcs64.tab'
#       elab:
#         - '/cad/tools/mentor/avery/2.5c/avery_pli-2023_0609/lib.linux/libtb_vcs64.a'
#         - '-P /cad/tools/mentor/avery/2.5c/avery_pli-2023_0609/tb_vcs64.tab'
#       sim:
#         - +define+aaxi_dbg_name=all
